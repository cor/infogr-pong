(function(e){function i(i){for(var t,r,a=i[0],c=i[1],l=i[2],p=0,u=[];p<a.length;p++)r=a[p],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(t in c)Object.prototype.hasOwnProperty.call(c,t)&&(e[t]=c[t]);x&&x(i);while(u.length)u.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,i=0;i<s.length;i++){for(var n=s[i],t=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(t=!1)}t&&(s.splice(i--,1),e=a(a.s=n[0]))}return e}var t={},o={app:0},s=[];function r(e){return a.p+"js/"+({about:"about"}[e]||e)+"."+{about:"c058c680"}[e]+".js"}function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var i=[],n=o[e];if(0!==n)if(n)i.push(n[2]);else{var t=new Promise((function(i,t){n=o[e]=[i,t]}));i.push(n[2]=t);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=r(e);var l=new Error;s=function(i){c.onerror=c.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var t=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;l.message="Loading chunk "+e+" failed.\n("+t+": "+s+")",l.name="ChunkLoadError",l.type=t,l.request=s,n[1](l)}o[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(i)},a.m=e,a.c=t,a.d=function(e,i,n){a.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,i){if(1&i&&(e=a(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var t in e)a.d(n,t,function(i){return e[i]}.bind(null,t));return n},a.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(i,"a",i),i},a.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},a.p="/infogr-pong/",a.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=i,c=c.slice();for(var p=0;p<c.length;p++)i(c[p]);var x=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,i,n){e.exports=n("56d7")},"21bb":function(e,i,n){"use strict";var t=n("2dad"),o=n.n(t);o.a},"2dad":function(e,i,n){},"56d7":function(e,i,n){"use strict";n.r(i);n("e260"),n("e6cf"),n("cca6"),n("a79d");var t=n("2b0e"),o=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],r=(n("5c0b"),n("2877")),a={},c=Object(r["a"])(a,o,s,!1,null,null,null),l=c.exports,p=n("9483");Object(p["a"])("".concat("/infogr-pong/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7");var x=n("8c4f"),u=function(){var e=this,i=e.$createElement;e._self._c;return e._m(0)},v=[function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"home"},[n("div",{staticClass:"canvas-wrapper"},[n("canvas",{attrs:{id:"glCanvas",width:"1200",height:"800"}})])])}],h=n("d4ec"),d=n("bee2"),f=n("ade3"),S={None:0,Up:1,Down:2},b=S,y=function(){function e(i){Object(h["a"])(this,e),Object(f["a"])(this,"width",void 0),Object(f["a"])(this,"height",void 0),Object(f["a"])(this,"x",void 0),Object(f["a"])(this,"y",void 0),Object(f["a"])(this,"direction",void 0),Object(f["a"])(this,"score",void 0),Object(f["a"])(this,"speed",void 0),this.width=.04,this.height=.3,this.x=i,this.y=0,this.speed=.02,this.direction=b.None,this.score=0}return Object(d["a"])(e,[{key:"left",value:function(){return this.x-this.width/2}},{key:"right",value:function(){return this.x+this.width/2}},{key:"top",value:function(){return this.y+this.height/2}},{key:"bottom",value:function(){return this.y-this.height/2}}]),e}(),g=(n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),function(){function e(){Object(h["a"])(this,e),Object(f["a"])(this,"radius",void 0),Object(f["a"])(this,"x",void 0),Object(f["a"])(this,"y",void 0),Object(f["a"])(this,"direction",void 0),Object(f["a"])(this,"oldPositions",[]),Object(f["a"])(this,"speed",void 0),Object(f["a"])(this,"acceleration",void 0),Object(f["a"])(this,"startDirections",[{x:.01,y:.01},{x:.01,y:-.01},{x:-.01,y:.01},{x:-.01,y:-.01}]),this.radius=.01,this.x=0,this.y=0,this.direction=this.startDirections[Math.floor(Math.random()*this.startDirections.length)],this.speed=.01,this.acceleration=1.1;for(var i=0;i<30;i++)this.oldPositions[i]=new Float32Array([0,0])}return Object(d["a"])(e,[{key:"setLocation",value:function(e,i){this.oldPositions.push(new Float32Array([e,i])),this.oldPositions.length>30&&this.oldPositions.shift(),this.x=e,this.y=i}}]),Object(d["a"])(e,[{key:"left",value:function(){return this.x-this.radius}},{key:"right",value:function(){return this.x+this.radius}},{key:"top",value:function(){return this.y+this.radius}},{key:"bottom",value:function(){return this.y-this.radius}}]),e}()),m=new Audio(n("805d")),z=new Audio(n("c21e")),P=new Audio(n("e57d")),w=new Audio(n("dc58")),R={Welcome:0,Playing:1,P1Win:2,P2Win:3},I=function(){function e(i,n,t){Object(h["a"])(this,e),Object(f["a"])(this,"countdown",void 0),Object(f["a"])(this,"stage",void 0),Object(f["a"])(this,"canvas",void 0),Object(f["a"])(this,"center",void 0),Object(f["a"])(this,"renderer",void 0),Object(f["a"])(this,"state",void 0),Object(f["a"])(this,"maxY",void 0),Object(f["a"])(this,"time",void 0),this.countdown=60,this.time=0,this.stage="undefined"!==typeof t?t:R.Playing,this.canvas=n,this.renderer=i,this.maxY=.65,this.state=new k,this.center={x:n.width/2,y:n.height/2}}return Object(d["a"])(e,[{key:"tick",value:function(){this.time++,this.renderer.setTime(this.time),this.stage===R.Playing?(this.state=this.transition(this.state),this.syncState()):this.renderer.setGameStage(this.stage),this.draw()}},{key:"transition",value:function(e){if(this.countdown--,this.stage=this.state.currentStage(),this.updatePlayerState(e.P1),this.updatePlayerState(e.P2),this.countdown>0)return e;if(0===this.countdown&&P.play(),this.updateBallState(e.ball),e.ball.x<=-1){var i=new k;return i.P1=e.P1,i.P2=e.P2,i.P2.score++,m.play(),this.countdown=60,i}if(e.ball.x>=1){var n=new k;return n.P1=e.P1,n.P2=e.P2,n.P1.score++,this.countdown=60,m.play(),n}if(e.terminating)return e;var t=5*Math.PI/12;if(e.ball.left()<e.P1.right())if(e.ball.bottom()<e.P1.top()&&e.ball.bottom>e.P1.bottom()||e.ball.top()<e.P1.top()&&e.ball.top()>e.P1.bottom()){z.play();var o=e.P1.y-e.ball.y,s=o/(e.P1.height/2),r=s*t;e.ball.speed*=e.ball.acceleration,e.ball.direction.x=e.ball.speed*Math.cos(r),e.ball.direction.y=-e.ball.speed*Math.sin(r)}else e.terminating=!0;if(e.ball.right()>e.P2.left())if(e.ball.bottom()<e.P2.top()&&e.ball.bottom>e.P2.bottom()||e.ball.top()<e.P2.top()&&e.ball.top()>e.P2.bottom()){z.play();var a=e.P2.y-e.ball.y,c=a/(e.P2.height/2),l=c*t;e.ball.speed*=e.ball.acceleration,e.ball.direction.x=e.ball.speed*-Math.cos(l),e.ball.direction.y=e.ball.speed*-Math.sin(l)}else e.terminating=!0;return this.state}},{key:"updateBallState",value:function(e){e.setLocation(e.x+e.direction.x,e.y+e.direction.y),Math.abs(e.y)>this.maxY&&(w.play(),e.direction.y*=-1)}},{key:"updatePlayerState",value:function(e){switch(e.direction){case b.Up:e.y=Math.min(e.y+e.speed,this.maxY-e.height/2);break;case b.Down:e.y=Math.max(e.y-e.speed,-this.maxY+e.height/2);break}}},{key:"syncState",value:function(){this.renderer.setOldPositions(this.state.ball.oldPositions),this.renderer.setGameStage(this.stage),this.renderer.setLeftPaddlePosition(this.state.P1.x,this.state.P1.y),this.renderer.setRightPaddlePosition(this.state.P2.x,this.state.P2.y),this.renderer.setBallPosition(this.state.ball.x,this.state.ball.y),this.renderer.setScore(this.state.P1.score,this.state.P2.score)}},{key:"draw",value:function(){this.renderer.draw()}},{key:"addEventListeners",value:function(){var e=this;this.canvas.addEventListener("mousedown",(function(i){var n=50,t=O(e.canvas,i);Math.abs(e.center.x-t.x)<n&&Math.abs(e.center.y-t.y)<n&&e.stage!==R.Playing&&(e.state=new k,e.stage=R.Playing)})),document.addEventListener("keydown",(function(i){switch(i.code){case"ArrowUp":e.state.P2.direction=b.Up;break;case"ArrowDown":e.state.P2.direction=b.Down;break;case"KeyW":e.state.P1.direction=b.Up;break;case"KeyS":e.state.P1.direction=b.Down;break}})),document.addEventListener("keyup",(function(i){switch(i.code){case"ArrowUp":e.state.P2.direction===b.Up&&(e.state.P2.direction=b.None);break;case"ArrowDown":e.state.P2.direction===b.Down&&(e.state.P2.direction=b.None);break;case"KeyW":e.state.P1.direction===b.Up&&(e.state.P1.direction=b.None);break;case"KeyS":e.state.P1.direction===b.Down&&(e.state.P1.direction=b.None);break}}))}}]),e}();function O(e,i){var n=e.getBoundingClientRect(),t=i.clientX-n.left,o=i.clientY-n.top;return{x:t,y:o}}var k=function(){function e(){Object(h["a"])(this,e),Object(f["a"])(this,"P1",void 0),Object(f["a"])(this,"P2",void 0),Object(f["a"])(this,"ball",void 0),Object(f["a"])(this,"terminating",void 0),this.ball=new g,this.P1=new y(-.9),this.P2=new y(.9),this.terminating=!1}return Object(d["a"])(e,[{key:"gameOver",value:function(){return this.P1.score>9||this.P2.score>9}},{key:"currentStage",value:function(){return this.P1.score>=9?R.P1Win:this.P2.score>=9?R.P2Win:R.Playing}}]),e}(),j=(n("ddb0"),n("3835")),A=n("b85c"),L=n("20e7"),U=(n("ac1f"),n("5319"),function(){function e(i,n,t){Object(h["a"])(this,e),Object(f["a"])(this,"gl",void 0),Object(f["a"])(this,"program",void 0),this.gl=i,this.program=this.initShaderProgram(i,n,t)}return Object(d["a"])(e,[{key:"initShaderProgram",value:function(e,i,n){var t=this.loadShader(e,e.VERTEX_SHADER,i),o=this.loadShader(e,e.FRAGMENT_SHADER,n),s=e.createProgram();return e.attachShader(s,t),e.attachShader(s,o),e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)?s:(alert("Unable to initialize the shader program: ".concat(e.getProgramInfoLog(s))),null)}},{key:"preprocessSource",value:function(e,i){var n=/42\/\/\$(.*)\$\/\//g;return e.replace(n,(function(e,n){return i[n]}))}},{key:"loadShader",value:function(e,i,n){var t=e.createShader(i);return e.shaderSource(t,n),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS)?t:(console.error("An error occurred compiling the shaders:\n".concat(e.getShaderInfoLog(t))),e.deleteShader(t),null)}},{key:"use",value:function(){this.gl.useProgram(this.program)}},{key:"setUniform1f",value:function(e,i){this.gl.uniform1f(this.getUniformLocation(e),i)}},{key:"setUniformMatrix4fv",value:function(e,i){this.gl.uniformMatrix4fv(this.getUniformLocation(e),!1,i)}},{key:"setUniform2fv",value:function(e,i){this.gl.uniform2fv(this.getUniformLocation(e),i)}},{key:"setUniform3fv",value:function(e,i){this.gl.uniform3fv(this.getUniformLocation(e),i)}},{key:"getUniformLocation",value:function(e){return this.gl.getUniformLocation(this.program,e)}},{key:"getAttribLocation",value:function(e){return this.gl.getAttribLocation(this.program,e)}},{key:"delete",value:function(){this.gl.deleteProgram(this.program)}}]),e}()),E="precision highp float;\n\nvarying mediump vec2 screenPosition;\n\n//\n// GAME STATE\n//\nuniform vec2 score;\nuniform vec2 ballPosition;\nuniform vec2 leftPaddlePosition;\nuniform vec2 rightPaddlePosition;\nuniform float gameStage;\nuniform vec2 oldPositions[30];\nuniform float time;\n\n//\n// CURVE\n//\nvec2 curveAmount = vec2(0.8, 0.6);\nfloat caseBorder = 0.0125;\n\n\nfloat ballRadius = 0.02;\nvec2 paddleSize = vec2(0.04, 0.24);\n\n\n//\n// DRAWING FUNCTIONS\n//\nbool isInRect(vec2 position, vec2 center, vec2 size)\n{\n    vec2 delta = abs(center - position);  // delta for paddle 0\n    return delta.x < (size.x/2.0) && delta.y < (size.y/2.0);\n}\n\nfloat pixelSize = 0.03;\n\n// xxx\n// x x\n// x x\n// x x\n// xxx\nbool is0(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x - 1.0 * pixelSize, pos.y), vec2(pixelSize, pixelSize * 4.0)) ||\n    isInRect(position, vec2(pos.x, pos.y - 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x + 1.0 * pixelSize, pos.y), vec2(pixelSize, pixelSize * 4.0));\n}\n\n\n// x\n// x\n// x\n// x\n// x\nbool is1(vec2 position, vec2 pos)\n{\n    return isInRect(position, pos, vec2(pixelSize, pixelSize * 5.0));\n}\n\n// xxx\n//   x\n// xxx\n// x\n// xxx\nbool is2(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, pos, vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y - 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x + 1.0 * pixelSize, pos.y + 1.0 * pixelSize), vec2(pixelSize, pixelSize)) ||\n    isInRect(position, vec2(pos.x - 1.0 * pixelSize, pos.y - 1.0 * pixelSize), vec2(pixelSize, pixelSize));\n}\n\n// xxx\n//   x\n// xxx\n//   x\n// xxx\nbool is3(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, pos, vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y - 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x + pixelSize, pos.y), vec2(pixelSize, 3.0 * pixelSize));\n}\n\n// x x\n// x x\n// xxx\n//   x\n//   x\nbool is4(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, pos, vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x - pixelSize, pos.y + pixelSize), vec2(pixelSize, 3.0 * pixelSize)) ||\n    isInRect(position, vec2(pos.x + pixelSize, pos.y), vec2(pixelSize, 5.0 * pixelSize));\n}\n\n// xxx\n// x\n// xxx\n//   x\n// xxx\nbool is5(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, pos, vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y - 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x - 1.0 * pixelSize, pos.y + 1.0 * pixelSize), vec2(pixelSize, pixelSize)) ||\n    isInRect(position, vec2(pos.x + 1.0 * pixelSize, pos.y - 1.0 * pixelSize), vec2(pixelSize, pixelSize));\n}\n\n// xxx\n// x\n// xxx\n// x x\n// xxx\nbool is6(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x - 1.0 * pixelSize, pos.y), vec2(pixelSize, pixelSize * 4.0)) ||\n    isInRect(position, vec2(pos.x, pos.y), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y - 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x + 1.0 * pixelSize, pos.y - 1.0 * pixelSize), vec2(pixelSize, pixelSize * 3.0));\n}\n\n// xxx\n//   x\n//   x\n//   x\n//   x\nbool is7(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x + 1.0 * pixelSize, pos.y), vec2(pixelSize, pixelSize * 4.0));\n}\n\n// xxx\n// x x\n// xxx\n// x x\n// xxx\nbool is8(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x - 1.0 * pixelSize, pos.y), vec2(pixelSize, pixelSize * 3.0)) ||\n    isInRect(position, vec2(pos.x, pos.y), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y - 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x + 1.0 * pixelSize, pos.y), vec2(pixelSize, pixelSize * 3.0));\n}\n\n// xxx\n// x x\n// xxx\n//   x\n// xxx\nbool is9(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x - 1.0 * pixelSize, pos.y + 1.0 * pixelSize), vec2(pixelSize, pixelSize * 3.0)) ||\n    isInRect(position, vec2(pos.x, pos.y), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y - 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x + 1.0 * pixelSize, pos.y), vec2(pixelSize, pixelSize * 4.0));\n}\n\n// xxx\n// x x\n// xxx\n// x\n// x\nbool isP(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, vec2(pos.x - pixelSize, pos.y), vec2(pixelSize, 5.0 * pixelSize)) ||\n    isInRect(position, pos, vec2(pixelSize, pixelSize)) ||\n    isInRect(position, vec2(pos.x + pixelSize, pos.y + pixelSize), vec2(pixelSize, 3.0 * pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize, pixelSize));\n}\n\nbool isO(vec2 position, vec2 pos)\n{\n    return is0(position, pos);\n}\n\n// xxx\n// x x\n// x x\n// x x\n// x x\nbool isN(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, vec2(pos.x - pixelSize, pos.y), vec2(pixelSize, 5.0 * pixelSize)) ||\n    isInRect(position, vec2(pos.x + pixelSize, pos.y), vec2(pixelSize, 5.0 * pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(3.0 * pixelSize, pixelSize));\n}\n\n\n// xxx\n// x\n// x|x\n// x x\n// xxx\nbool isG(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, vec2(pos.x, pos.y + 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x, pos.y - 2.0 * pixelSize), vec2(pixelSize * 3.0, pixelSize)) ||\n    isInRect(position, vec2(pos.x - pixelSize, pos.y), vec2(pixelSize, pixelSize * 3.0)) ||\n    isInRect(position, vec2(pos.x + pixelSize, pos.y - pixelSize), vec2(pixelSize)) ||\n    isInRect(position, vec2(pos.x + 0.75 * pixelSize, pos.y), vec2(1.5 * pixelSize, pixelSize));\n}\n\n// x\n// x\n// x\n//\n// x\nbool isExclamationMark(vec2 position, vec2 pos)\n{\n    return\n    isInRect(position, vec2(pos.x, pos.y + pixelSize), vec2(pixelSize, pixelSize * 3.0)) ||\n    isInRect(position, vec2(pos.x, pos.y - 2.0 * pixelSize), vec2(pixelSize));\n}\n\n\nbool isPONG(vec2 position, vec2 pos)\n{\n    return\n    isP(position, vec2(pos.x - 6.0 * pixelSize, pos.y)) ||\n    isO(position, vec2(pos.x - 2.0 * pixelSize, pos.y)) ||\n    isN(position, vec2(pos.x + 2.0 * pixelSize, pos.y)) ||\n    isG(position, vec2(pos.x + 6.0 * pixelSize, pos.y));\n}\n\n\nbool isTriangle(vec2 position, vec2 size, vec2 pos)\n{\n    float top = pos.y + size.y;\n    float bottom = pos.y - size.y;\n    float start = pos.x;\n    float end = pos.x + size.x;\n\n    float slope = size.y/size.x;\n    float relativeX = position.x - start;\n\n    return\n    position.x > start && position.x < end && // x within triangle\n    (position.y < top - slope * relativeX && position.y > bottom + slope * relativeX); // y within triangle\n\n}\n\nbool isNumber(float number, vec2 position, vec2 numberPosition)\n{   // GLSL is a beautiful language\n    if (number == 0.0) { return is0(position, numberPosition); }\n    if (number == 1.0) { return is1(position, numberPosition); }\n    if (number == 2.0) { return is2(position, numberPosition); }\n    if (number == 3.0) { return is3(position, numberPosition); }\n    if (number == 4.0) { return is4(position, numberPosition); }\n    if (number == 5.0) { return is5(position, numberPosition); }\n    if (number == 6.0) { return is6(position, numberPosition); }\n    if (number == 7.0) { return is7(position, numberPosition); }\n    if (number == 8.0) { return is8(position, numberPosition); }\n    if (number == 9.0) { return is9(position, numberPosition); }\n    return false;\n}\n\nbool isP1score(vec2 position) {\n    return isNumber(score.x, position, vec2(-4.0 * pixelSize, 18.0 * pixelSize));\n}\n\nbool isP2score(vec2 position) {\n    return isNumber(score.y, position, vec2(4.0 * pixelSize, 18.0 * pixelSize));\n}\n\nbool isLine(vec2 position) {\n    return\n        abs(position.x) < pixelSize / 2.0 &&\n        mod(position.y - pixelSize * 1.5, pixelSize * 2.0) <= pixelSize;\n}\n\nbool isWinLine(vec2 position) {\n    return isLine(position) &&\n        (position.y > pixelSize * 3.0 || position.y < pixelSize * -3.0);\n}\n\nbool isPlayButton(vec2 position) {\n    return isTriangle(position, vec2(0.16, 0.1), vec2(-0.06, 0));\n}\n\n//\n// GAMESTAGE SPECIFIC RENDERING\n//\nvec4 welcome(vec2 position) { // GameStage.Welcome\n    if (isPONG(position, vec2(0, 0.3)) ||\n        isPlayButton(position))\n    {\n        return vec4(1, 1, 1, 1);\n    }\n    return vec4(0, 0, 0, 1.0);\n}\n\nvec4 playing(vec2 position) // GameStage.Playing\n{\n    bool isLeftPaddle = isInRect(position, leftPaddlePosition, paddleSize);\n    bool isRightPaddle = isInRect(position, rightPaddlePosition, paddleSize);\n    bool isBall = isInRect(position, ballPosition, vec2(ballRadius * 2.0, ballRadius * 2.0));\n\n    if (isLeftPaddle ||\n    isRightPaddle ||\n    isBall ||\n    isLine(position) ||\n    isP1score(position) ||\n    isP2score(position))\n    {\n        return vec4(1, 1, 1, 1);\n    }\n\n    // Render tail\n    for (int i = 29; i >= 0; i--) {\n        vec2 oldPos = oldPositions[i];\n        float scale = float(i) / 30.0;\n        if (isInRect(position, oldPos, vec2(ballRadius * 2.0 * scale))) {\n            return vec4(scale, scale, scale, 1.0);\n        }\n    }\n\n    return vec4(0, 0, 0, 1.0);\n}\n\nvec4 p1win(vec2 position) // GameStage.P1Win\n{\n    if (isP(position, vec2(-19.0 * pixelSize, 0)) ||\n        is1(position, vec2(-16.0 * pixelSize, 0)) ||\n        isExclamationMark(position, vec2(-14.0 * pixelSize, 0)) ||\n        isP1score(position) ||\n        isP2score(position) ||\n        isWinLine(position) ||\n        isPlayButton(position)\n    )\n    {\n        return vec4(1, 1, 1, 1);\n    }\n    return vec4(0, 0, 0, 1.0);\n}\n\nvec4 p2win(vec2 position) // GameStage.P2Win\n{\n    if (isP(position, vec2(14.0 * pixelSize, 0)) ||\n        is2(position, vec2(18.0 * pixelSize, 0)) ||\n        isExclamationMark(position, vec2(21.0 * pixelSize, 0)) ||\n        isP1score(position) ||\n        isP2score(position) ||\n        isWinLine(position) ||\n        isPlayButton(position)\n    )\n    {\n        return vec4(1, 1, 1, 1);\n    }\n    return vec4(0, 0, 0, 1.0);\n}\n\nvec4 scanline(vec4 color, vec2 position) {\n    float lineHeight = 0.0104;\n    float darkness = 0.9;\n    float speed = 0.0104;\n\n    float y = mod(position.y + (time / 60.0) * speed, lineHeight);\n    if (y < lineHeight/2.0) {\n        return color;\n    } else {\n        return vec4(color.x, color.y, color.z, darkness);\n    }\n}\n\nvec4 colorAt(vec2 position) {\n    // Map position from [0, 1] to [-1, 1] to get world space color\n    position *= 2.0;\n    position -= vec2(1.0);\n\n    vec4 color;\n\n    if (abs(position.y) > 0.666) { // out of render area\n        return vec4(0, 0, 0, 1);\n    }\n\n    if (gameStage == 0.0) { // GameStage.Welcome\n        color = welcome(position);\n    } else if (gameStage == 1.0) { // GameStage.Playing\n        color = playing(position);\n    } else if (gameStage == 2.0) { // GameStage.P1Win\n        color = p1win(position);\n    } else if (gameStage == 3.0) { // GameStage.P2Win\n        color = p2win(position);\n    }\n\n    // Apply scanline effect\n    color = scanline(color, position);\n\n    return color;\n}\n\n\nvec4 curve(vec2 position) {\n    // Map position from [-1, 1] to [0, 1] for curve effect\n    position += vec2(1.0);\n    position /= 2.0;\n\n    // Using this https://github.com/wessles/GLSL-CRT/blob/master/shader.frag algorithm\n    float dx = abs(0.5 - position.x);\n    float dy = abs(0.5 - position.y);\n    dx *= dx;\n    dy *= dy;\n\n    position.x -= 0.5;\n    position.x *= 1.0 + (dy * curveAmount.x);\n    position.x += 0.5;\n\n    position.y -= 0.5;\n    position.y *= 1.0 + (dx * curveAmount.y);\n    position.y += 0.5;\n\n    // Draw color from world space\n    vec4 color = colorAt(position);\n    color += sin(position.y) * 0.02;\n\n    if(position.y > 1.0 || position.x < 0.0 || position.x > 1.0 || position.y < 0.0)\n        color = vec4(0, 0, 0, 1);\n\n    return color;\n}\n\nvoid main() {\n    gl_FragColor = curve(screenPosition);\n}\n",M="precision highp float;\n\nattribute vec4 aVertexPosition;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying mediump vec2 screenPosition;\n\nvoid main() {\n    screenPosition = aVertexPosition.xy;\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n}\n",T=function(){function e(i){Object(h["a"])(this,e),Object(f["a"])(this,"gl",void 0),Object(f["a"])(this,"shader",void 0),Object(f["a"])(this,"buffers",void 0),this.gl=i,this.shader=new U(i,M,E),this.buffers=this.initBuffers(),this.shader.use(),this.setDefaultPositions()}return Object(d["a"])(e,[{key:"recompileShader",value:function(e){this.shader.delete(),this.shader=new U(this.gl,M,E,e)}},{key:"initBuffers",value:function(){var e=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e);var i=[-1,1,1,1,-1,-1,1,-1];return this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(i),this.gl.STATIC_DRAW),{position:e}}},{key:"draw",value:function(){this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.clearDepth(1),this.gl.enable(this.gl.DEPTH_TEST),this.gl.depthFunc(this.gl.LEQUAL),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT);var e=29.8*Math.PI/180,i=this.gl.canvas.clientWidth/this.gl.canvas.clientHeight,n=.1,t=100,o=L["a"].create();L["a"].perspective(o,e,i,n,t);var s=L["a"].create();L["a"].translate(s,s,[0,0,-2.5]);var r=this.shader.getAttribLocation("aVertexPosition");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffers.position),this.gl.vertexAttribPointer(r,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(r),this.shader.use(),this.shader.setUniformMatrix4fv("uProjectionMatrix",o),this.shader.setUniformMatrix4fv("uModelViewMatrix",s);var a=0,c=4;this.gl.drawArrays(this.gl.TRIANGLE_STRIP,a,c)}},{key:"setOldPositions",value:function(e){var i,n=Object(A["a"])(e.entries());try{for(n.s();!(i=n.n()).done;){var t=Object(j["a"])(i.value,2),o=t[0],s=t[1];this.shader.setUniform2fv("oldPositions[".concat(o,"]"),s)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setTime",value:function(e){this.shader.setUniform1f("time",e)}},{key:"setGameStage",value:function(e){this.shader.setUniform1f("gameStage",e)}},{key:"setDefaultPositions",value:function(){this.setLeftPaddlePosition(-.9,0),this.setRightPaddlePosition(.9,0),this.setBallPosition(0,0)}},{key:"setLeftPaddlePosition",value:function(e,i){this.shader.setUniform2fv("leftPaddlePosition",new Float32Array([e,i]))}},{key:"setRightPaddlePosition",value:function(e,i){this.shader.setUniform2fv("rightPaddlePosition",new Float32Array([e,i]))}},{key:"setBallPosition",value:function(e,i){this.shader.setUniform2fv("ballPosition",new Float32Array([e,i]))}},{key:"setScore",value:function(e,i){this.shader.setUniform2fv("score",new Float32Array([e,i]))}}]),e}(),_={name:"Home",data:function(){return{pong:null,pongRenderer:null}},mounted:function(){var e=this,i=document.querySelector("#glCanvas"),n=i.getContext("webgl");null===n&&alert("Unable to initialize WebGL. Your browser or machine may not support it."),this.pongRenderer=new T(n),this.pong=new I(this.pongRenderer,i,R.Welcome),this.pong.addEventListeners();var t=function i(n){e.pong.tick(),requestAnimationFrame(i)};requestAnimationFrame(t)}},F=_,B=(n("21bb"),Object(r["a"])(F,u,v,!1,null,null,null)),G=B.exports;t["a"].use(x["a"]);var N=[{path:"/",name:"Home",component:G},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],D=new x["a"]({mode:"history",base:"/infogr-pong/",routes:N}),W=D,C=n("2f62");t["a"].use(C["a"]);var H=new C["a"].Store({state:{},mutations:{},actions:{},modules:{}});t["a"].config.productionTip=!1,new t["a"]({router:W,store:H,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,i,n){"use strict";var t=n("9c0c"),o=n.n(t);o.a},"805d":function(e,i,n){e.exports=n.p+"media/score.63ce9ecd.wav"},"9c0c":function(e,i,n){},c21e:function(e,i,n){e.exports=n.p+"media/hit.f8648124.wav"},dc58:function(e,i,n){e.exports=n.p+"media/side.f37fcc5f.wav"},e57d:function(e,i,n){e.exports=n.p+"media/start.1f4848ab.wav"}});
//# sourceMappingURL=app.4b46cf16.js.map